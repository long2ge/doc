MongoDB采用B树索引

Mongodb 更新失败解决方案

现象：

WriteResult res = mongoTemplate.updateFirst(query, updateObj, "ServerToAgentReq_SMS");

获取res.getN()返回值时，发现偶尔情况下该返回值为0，表示该更新操作没有更新到任何数据。并且如果是多线程并发更新，失败几率大大提高。

官网表示不能保证更新操作的成功性....

方案：

一次失败后，另起线程多次重试。


### 面向服务的架构
1. 用户模块，订单模块，权限模块，流程模块
2. 把这些模块对外抽取，然后以服务的形式对外公开。
3. 我们把系统的功能模块打散，把各个模块功能组拼到一块可以形成一个系统。
4. 代码可以重用性更高；维护性更高；分流，可以提升系统的性能。

### 游标
1. 通俗的说，游标不是查询结果，而是查询的返回资料或者接口。
2. 通过这个接口，你可以逐条读取。就像php中的fopen打开文件，得到一个资源一样，通过资源，可以一行一行处理。